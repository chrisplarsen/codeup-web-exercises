<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Favorite Restaurant?</title>

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />

</head>
<body>




<div id='map' style='width: 90vw; height: 90vh;'></div>
<script src="./js/keys.js"></script>
<script src="./js/mapbox-geocoder-utils.js"></script>

<script>
  mapboxgl.accessToken = mapboxAPIKey;
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    zoom: 10,
    center: [-96.808891, 32.779167]
  });

  var tampopoJapaneseCafe = "6130 Greenville Ave # 100, Dallas, TX 75206"

  geocode("6130 Greenville Ave # 100, Dallas, TX 75206",mapboxAPIKey).then(function(data){
    console.log("Here are the coordinates for the following location ${tampopoJapaneseCafe}");
    console.log(data);

    //var tampopoPopup = new mapboxgl.Popup()
      //      .setLngLat(data)
        //    .setHTML("<p>Tampopo</p>")
          //  .addTo(map)
    //marker.setPopup(tampopoPopup);
    //The popup box

    var tampopoMarker = new mapboxgl.Marker()
            .setLngLat(data)
            .addTo(map)
    //marker

    var tampopoPopup = new mapboxgl.Popup()
            .setHTML("<p>Tampopo Japanese Cafe</p>")
            //.addTo(map)

    tampopoMarker.setPopup(tampopoPopup)
  })

  var restaurant = [
      {
          name: 'McDonalds',
          address: '',
      },
      {
          name: '',
          address: '',
      },
      {
          name: '',
          address: '',
      }
  ];

  restaurant.forEach(function(restaurants) {
      geocode("6130 Greenville Ave # 100, Dallas, TX 75206",mapboxAPIKey).then(function(data){
          console.log("Here are the coordinates for the following location ${tampopoJapaneseCafe}");
          console.log(data);

          var tampopoMarker = new mapboxgl.Marker()
              .setLngLat(data)
              .addTo(map)
          //marker

          var tampopoPopup = new mapboxgl.Popup()
              .setHTML("<p>restaurants.name</p>") //${restaurant.name}
          //.addTo(map)

          tampopoMarker.setPopup(tampopoPopup)
      })
  })
</script>

</body>
</html>